{% extends '::base.html.twig' %}
{% block styles %}
	{{ parent() }}
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/plug-ins/1.10.7/integration/bootstrap/3/dataTables.bootstrap.css">
{% endblock %}
{% block body %}
	<h2>Admin Console</h2>
	{# ----- Years Panel ----- #}
	<div class="panel panel-default">
	  <div class="panel-heading">
	    <h3 class="panel-title">Years</h3>
	  </div>
	  <div class="panel-body">
		<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>Year</th>
					<th>Map Boundaries File</th>
				</tr>
			</thead>
			<tbody>
				{% for year in years %}
					<tr>
						<td>{{ year.year }}{% if year.isCurrentYear %} - <strong>current</strong>{% endif %}</td>
						<td>{% if boundaryFiles[year.year].status %}File loaded.{% else %}<code>file not found: <strong>{{ boundaryFiles[year.year].filename }}</strong></code>{% endif %}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	  </div>
	</div>
	{# ----- School Panel ----- #}
	<div class="panel panel-default">
	  <div class="panel-heading">
	    <h3 class="panel-title"><a data-toggle="collapse" href="#school-data"><span class="glyphicon glyphicon-triangle-right"></span>&nbsp;Schools ({{ schools|length }} total)</a></h3>
	  </div>
	  <div id="school-data" class="collapse panel-body">
		<table id="school-table" class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>School</th>
					<th>Grade Level</th>
					<th>Location</th>
				</tr>
			</thead>
			<tbody>
				{% for school in schools %}
					<tr>
						<td>{{ school.name }}</td>
						<td>{{ school.gradeLevel }}</td>
						<td>{{ school.latitude }}, {{ school.longitude }}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	  </div>
	</div>
{% endblock %}
{% block javascripts %}
	{{ parent() }}
	<script src="//cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script>
    <script src="//cdn.datatables.net/plug-ins/1.10.7/integration/bootstrap/3/dataTables.bootstrap.js"></script>
    <script type="text/javascript">
    	$(document).ready(function(){
    		$('#school-table').DataTable();
    	});
	</script>
{% endblock %}